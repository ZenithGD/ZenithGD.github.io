import React from 'react'
import { Canvas, useFrame } from '@react-three/fiber'
import PointCloud from '../graphics/PointCloud'
import { motion, useMotionValue, useTransform } from "framer-motion"

function CamRotate() {
    // Rotate camera each frame
    useFrame(({ clock, camera }) => {
        camera.rotation.z = clock.getElapsedTime() / 16
        camera.rotation.y = Math.sin(clock.getElapsedTime() / 4 + Math.PI / 2)
        camera.rotation.x = Math.sin(clock.getElapsedTime() / 2)
    })
    return null
}

const draw = {
    hidden: { pathLength: 0, opacity: 0 },
    visible: (i) => {
        const delay = 1 + i * 0.5;
        return {
            pathLength: 0.27,
            opacity: 1,
            transition: {
                pathLength: { delay, duration: 2 },
                opacity: { delay, duration: 0.6 }
            }
        };
    }
};

function Hero() {

    return (
        <div className='relative h-screen w-full bg-gray-850'>
            <div className='absolute z-10 h-screen w-full flex justify-center items-center backdrop-blur-sm'>
                <motion.svg 
                    width="275" 
                    height="200"
                    initial="hidden"
                    animate="visible">
                    <motion.path
                        d="M 38.7 121.5 L 30.45 121.5 L 30.45 0 L 38.7 0 L 38.7 54.75 L 81.3 54.75 L 81.3 0 L 89.4 0 L 89.4 121.5 L 81.3 121.5 L 81.3 61.05 L 38.7 61.05 L 38.7 121.5 Z M 227.1 69.75 L 227.1 63.6 A 128.565 128.565 0 0 0 226.996 58.231 Q 226.791 53.349 226.184 49.967 A 32.315 32.315 0 0 0 225.975 48.9 A 21.745 21.745 0 0 0 225.224 46.196 Q 224.131 43.115 222.291 41.604 A 6.683 6.683 0 0 0 222.225 41.55 Q 219.6 39.45 215.1 39.45 Q 211.65 39.45 208.5 40.65 Q 205.35 41.85 203.325 45.375 A 12.502 12.502 0 0 0 202.172 48.197 Q 201.3 51.272 201.3 55.8 L 201.3 58.05 L 193.5 58.05 Q 193.5 45.605 198.521 39.53 A 17.206 17.206 0 0 1 198.525 39.525 A 15.017 15.017 0 0 1 204.864 35.114 Q 209.197 33.45 215.4 33.45 Q 226.35 33.45 230.7 40.35 A 21.847 21.847 0 0 1 232.994 45.497 Q 234.592 50.613 234.948 58.17 A 96.425 96.425 0 0 1 235.05 62.7 L 235.05 106.35 A 67.911 67.911 0 0 0 235.054 107.032 Q 235.068 108.341 235.125 110.925 Q 235.2 114.3 235.275 117.45 Q 235.339 120.131 235.457 121.182 A 6.136 6.136 0 0 0 235.5 121.5 L 228.6 121.5 A 184.779 184.779 0 0 0 228.066 116.606 A 212.783 212.783 0 0 0 227.85 114.9 A 428.381 428.381 0 0 1 227.644 113.297 Q 227.363 111.075 227.25 109.95 Q 225.3 115.35 220.5 119.1 A 17.677 17.677 0 0 1 210.372 122.814 A 22.346 22.346 0 0 1 209.1 122.85 A 19.352 19.352 0 0 1 204.259 122.269 A 15.589 15.589 0 0 1 199.95 120.45 Q 196.05 118.05 193.875 113.775 Q 191.7 109.5 191.7 103.95 A 36.55 36.55 0 0 1 191.973 99.367 Q 192.277 96.963 192.92 94.899 A 21.508 21.508 0 0 1 193.125 94.275 A 17.804 17.804 0 0 1 195.792 89.353 A 23.685 23.685 0 0 1 198.3 86.55 A 35.768 35.768 0 0 1 201.412 83.914 Q 204.557 81.521 209.025 78.975 A 178.512 178.512 0 0 1 214.308 76.092 Q 217.062 74.643 220.26 73.058 A 413.317 413.317 0 0 1 227.1 69.75 Z M 176.1 121.5 L 168.15 121.5 L 168.15 0 L 176.1 0 L 176.1 121.5 Z M 107.55 89.85 L 107.55 66.45 A 103.492 103.492 0 0 1 107.814 58.835 Q 108.253 52.894 109.425 48.3 A 25.849 25.849 0 0 1 111.232 43.294 Q 113.072 39.544 116.025 37.2 Q 119.887 34.135 126.305 33.575 A 34.495 34.495 0 0 1 129.3 33.45 A 32.415 32.415 0 0 1 134.466 33.835 Q 139.513 34.651 142.725 37.2 A 17.392 17.392 0 0 1 147.378 42.987 Q 148.54 45.253 149.278 48.044 A 30.801 30.801 0 0 1 149.325 48.225 A 51.902 51.902 0 0 1 150.468 54.198 Q 151.2 59.606 151.2 66.45 L 151.2 89.85 A 103.492 103.492 0 0 1 150.936 97.465 Q 150.497 103.406 149.325 108 A 25.849 25.849 0 0 1 147.518 113.006 Q 145.678 116.756 142.725 119.1 Q 138.969 122.081 132.701 122.692 A 35.07 35.07 0 0 1 129.3 122.85 A 31.393 31.393 0 0 1 124.158 122.456 Q 119.218 121.634 116.025 119.1 Q 111.43 115.453 109.53 108.401 A 31.047 31.047 0 0 1 109.425 108 A 53.262 53.262 0 0 1 108.282 102.002 Q 107.55 96.6 107.55 89.85 Z M 259.05 95.4 L 256.2 95.4 L 253.2 0 L 262.2 0 L 259.05 95.4 Z M 9 151.95 L 0 151.95 L 3.15 56.55 L 6 56.55 L 9 151.95 Z M 143.25 90.15 L 143.25 66.15 A 144.218 144.218 0 0 0 143.134 60.198 Q 142.941 55.528 142.425 51.825 A 23.14 23.14 0 0 0 141.601 48.071 Q 140.569 44.791 138.6 42.675 Q 135.6 39.45 129.3 39.45 Q 123 39.45 120.075 42.675 Q 117.628 45.372 116.651 49.959 A 26.473 26.473 0 0 0 116.325 51.825 A 76.441 76.441 0 0 0 115.822 56.617 Q 115.5 60.9 115.5 66.15 L 115.5 90.15 A 140.957 140.957 0 0 0 115.616 96.021 Q 115.737 98.914 115.984 101.464 A 73.659 73.659 0 0 0 116.325 104.4 Q 117.15 110.4 120.075 113.625 A 8.959 8.959 0 0 0 123.808 116.031 Q 125.256 116.543 127.04 116.735 A 21.146 21.146 0 0 0 129.3 116.85 Q 135.6 116.85 138.6 113.625 A 12.866 12.866 0 0 0 140.965 109.921 Q 141.672 108.284 142.097 106.289 A 26.232 26.232 0 0 0 142.425 104.4 A 80.272 80.272 0 0 0 142.959 99.154 Q 143.159 96.331 143.222 93.134 A 152.789 152.789 0 0 0 143.25 90.15 Z M 227.1 104.1 L 227.1 75.6 A 865.59 865.59 0 0 0 223.289 77.625 Q 217.819 80.55 213.825 82.8 A 73.162 73.162 0 0 0 210.288 84.918 Q 207.395 86.77 205.425 88.5 A 17.449 17.449 0 0 0 202.544 91.703 A 14.625 14.625 0 0 0 201 94.575 Q 199.807 97.558 199.668 101.654 A 32.411 32.411 0 0 0 199.65 102.75 Q 199.65 109.63 202.451 112.659 A 7.036 7.036 0 0 0 203.25 113.4 Q 206.85 116.25 211.05 116.25 A 13.994 13.994 0 0 0 215.445 115.576 A 12.61 12.61 0 0 0 217.8 114.525 A 20.81 20.81 0 0 0 223.012 110.24 A 23.452 23.452 0 0 0 223.2 110.025 Q 225.6 107.25 227.1 104.1 Z M 262.05 121.5 L 253.05 121.5 L 253.05 110.4 L 262.05 110.4 L 262.05 121.5 Z M 9.15 41.55 L 0.15 41.55 L 0.15 30.45 L 9.15 30.45 L 9.15 41.55 Z"
                        fill="transparent"
                        strokeWidth="3"
                        stroke="#FFFFFF"
                        variants={draw}
                    />
                </motion.svg>
            </div>
            <Canvas>
                <ambientLight />
                <pointLight position={[10, 10, 10]} />
                <PointCloud density={500} radius={100} pointSize={1} pointColor='#FFFFFF' />
                <PointCloud />
                <CamRotate />
            </Canvas>
        </div>
    )
}

export default Hero
